{"version":3,"file":"index-BiAvaUNZ.js","sources":["../../../node_modules/react-dom/client.js","../../../src/engines/StreamingAnalysisEngine.ts","../../../src/utils/HealthCheck.ts","../../../src/App-Production.tsx","../../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import type { AudioAnalysisResult, AnalysisProgress } from '../types/audio';\nimport { PerformanceMonitor, PerformanceCategory } from '../utils/PerformanceMonitor';\nimport { handleAnalysisError, handlePerformanceError } from '../utils/ErrorHandler';\n\nexport interface StreamingAnalysisConfig {\n  chunkSize: number; // Size of each audio chunk in samples\n  overlapSize: number; // Overlap between chunks in samples\n  maxFileSize: number; // Maximum file size for streaming analysis\n  analysisFeatures: {\n    spectral: boolean;\n    tempo: boolean;\n    key: boolean;\n    mfcc: boolean;\n    onset: boolean;\n  };\n  enableProgressiveResults: boolean; // Return partial results during analysis\n  memoryLimit: number; // Memory limit in bytes\n}\n\nexport interface StreamingChunk {\n  index: number;\n  startTime: number;\n  endTime: number;\n  audioData: Float32Array;\n  sampleRate: number;\n  isComplete: boolean;\n}\n\nexport interface ProgressiveAnalysisResult {\n  chunkIndex: number;\n  totalChunks: number;\n  partialResult: Partial<AudioAnalysisResult>;\n  aggregatedResult: Partial<AudioAnalysisResult>;\n  isComplete: boolean;\n  processingTime: number;\n}\n\nexport class StreamingAnalysisEngine {\n  private config: StreamingAnalysisConfig = {\n    chunkSize: 44100 * 10, // 10 seconds at 44.1kHz\n    overlapSize: 44100 * 1, // 1 second overlap\n    maxFileSize: 100 * 1024 * 1024, // 100MB\n    analysisFeatures: {\n      spectral: true,\n      tempo: true,\n      key: true,\n      mfcc: true,\n      onset: true\n    },\n    enableProgressiveResults: true,\n    memoryLimit: 50 * 1024 * 1024 // 50MB\n  };\n\n  private worker: Worker | null = null;\n  private isAnalyzing = false;\n  private currentAnalysisId: string | null = null;\n  private chunkResults: Map<number, Partial<AudioAnalysisResult>> = new Map();\n  private aggregatedResult: Partial<AudioAnalysisResult> = {};\n\n  constructor(config?: Partial<StreamingAnalysisConfig>) {\n    if (config) {\n      this.config = { ...this.config, ...config };\n    }\n    this.initializeWorker();\n  }\n\n  private async initializeWorker(): Promise<void> {\n    try {\n      const workerCode = this.generateWorkerCode();\n      const blob = new Blob([workerCode], { type: 'application/javascript' });\n      const workerUrl = URL.createObjectURL(blob);\n      \n      this.worker = new Worker(workerUrl);\n      this.worker.onmessage = this.handleWorkerMessage.bind(this);\n      this.worker.onerror = (ev: ErrorEvent) => this.handleWorkerError(new Error(ev.message));\n      \n      URL.revokeObjectURL(workerUrl);\n    } catch (error) {\n      console.error('Failed to initialize streaming worker:', error);\n    }\n  }\n\n  private generateWorkerCode(): string {\n    return `\n      let essentia = null;\n      let isInitialized = false;\n      let chunkResults = new Map();\n\n      // Simplified mock implementation for development\n      // In production, this would use real Essentia.js\n      async function initializeEssentia() {\n        // Mock initialization\n        await new Promise(resolve => setTimeout(resolve, 100));\n        isInitialized = true;\n        \n        postMessage({\n          type: 'WORKER_READY',\n          payload: { success: true }\n        });\n      }\n\n      function analyzeChunk(chunkData, chunkIndex, config) {\n        return new Promise((resolve) => {\n          // Simulate chunk analysis\n          setTimeout(() => {\n            const mockResult = {\n              chunkIndex,\n              spectral: config.analysisFeatures.spectral ? {\n                centroid: { mean: 1000 + Math.random() * 1000, std: 100 },\n                rolloff: { mean: 2000 + Math.random() * 1000, std: 200 },\n                flux: { mean: Math.random() * 0.5, std: 0.1 }\n              } : undefined,\n              tempo: config.analysisFeatures.tempo ? {\n                bpm: 80 + Math.random() * 60,\n                confidence: 0.7 + Math.random() * 0.3\n              } : undefined,\n              mfcc: config.analysisFeatures.mfcc ? \n                Array.from({length: 13}, () => (Math.random() - 0.5) * 10) : undefined\n            };\n            \n            resolve(mockResult);\n          }, 100 + Math.random() * 200);\n        });\n      }\n\n      function aggregateResults(chunkResults) {\n        const results = Array.from(chunkResults.values());\n        if (results.length === 0) return {};\n\n        const aggregated = {};\n\n        // Aggregate spectral features\n        const spectralResults = results.filter(r => r.spectral);\n        if (spectralResults.length > 0) {\n          aggregated.spectral = {\n            centroid: {\n              mean: spectralResults.reduce((sum, r) => sum + r.spectral.centroid.mean, 0) / spectralResults.length,\n              std: Math.sqrt(spectralResults.reduce((sum, r) => sum + Math.pow(r.spectral.centroid.std, 2), 0) / spectralResults.length)\n            },\n            rolloff: {\n              mean: spectralResults.reduce((sum, r) => sum + r.spectral.rolloff.mean, 0) / spectralResults.length,\n              std: Math.sqrt(spectralResults.reduce((sum, r) => sum + Math.pow(r.spectral.rolloff.std, 2), 0) / spectralResults.length)\n            },\n            flux: {\n              mean: spectralResults.reduce((sum, r) => sum + r.spectral.flux.mean, 0) / spectralResults.length,\n              std: Math.sqrt(spectralResults.reduce((sum, r) => sum + Math.pow(r.spectral.flux.std, 2), 0) / spectralResults.length)\n            }\n          };\n        }\n\n        // Aggregate tempo (use most confident result)\n        const tempoResults = results.filter(r => r.tempo);\n        if (tempoResults.length > 0) {\n          const bestTempo = tempoResults.reduce((best, current) => \n            current.tempo.confidence > best.tempo.confidence ? current : best);\n          aggregated.tempo = bestTempo.tempo;\n        }\n\n        // Aggregate MFCC (average)\n        const mfccResults = results.filter(r => r.mfcc);\n        if (mfccResults.length > 0) {\n          const mfccLength = mfccResults[0].mfcc.length;\n          aggregated.mfcc = Array.from({length: mfccLength}, (_, i) => \n            mfccResults.reduce((sum, r) => sum + r.mfcc[i], 0) / mfccResults.length\n          );\n        }\n\n        return aggregated;\n      }\n\n      self.onmessage = async function(event) {\n        const { type, payload, id } = event.data;\n\n        switch (type) {\n          case 'ANALYZE_CHUNK':\n            if (!isInitialized) {\n              postMessage({\n                type: 'ERROR',\n                payload: { error: 'Worker not initialized' },\n                id\n              });\n              return;\n            }\n\n            try {\n              const { chunkData, chunkIndex, totalChunks, config } = payload;\n              \n              const chunkResult = await analyzeChunk(chunkData, chunkIndex, config);\n              chunkResults.set(chunkIndex, chunkResult);\n              \n              // Calculate aggregated results\n              const aggregated = aggregateResults(chunkResults);\n              \n              postMessage({\n                type: 'CHUNK_COMPLETE',\n                payload: {\n                  chunkIndex,\n                  totalChunks,\n                  partialResult: chunkResult,\n                  aggregatedResult: aggregated,\n                  isComplete: chunkResults.size === totalChunks,\n                  processingTime: 100 + Math.random() * 200\n                },\n                id\n              });\n\n            } catch (error) {\n              postMessage({\n                type: 'ERROR',\n                payload: { error: error.message, chunkIndex: payload.chunkIndex },\n                id\n              });\n            }\n            break;\n\n          case 'RESET':\n            chunkResults.clear();\n            break;\n        }\n      };\n\n      // Initialize on startup\n      initializeEssentia();\n    `;\n  }\n\n  private handleWorkerMessage(event: MessageEvent): void {\n    const { type, payload, id } = event.data;\n\n    switch (type) {\n      case 'WORKER_READY':\n        console.log('Streaming worker ready');\n        break;\n\n      case 'CHUNK_COMPLETE':\n        this.handleChunkComplete(payload);\n        break;\n\n      case 'ERROR':\n        this.handleWorkerError(new Error(payload.error));\n        break;\n    }\n  }\n\n  private handleChunkComplete(result: ProgressiveAnalysisResult): void {\n    // Store chunk result\n    this.chunkResults.set(result.chunkIndex, result.partialResult);\n    this.aggregatedResult = result.aggregatedResult;\n\n    // Notify progress\n    if (this.progressCallback) {\n      const progress = result.chunkIndex / result.totalChunks;\n      this.progressCallback({\n        progress,\n        stage: 'analyzing',\n        percentage: Math.round(progress * 100),\n        currentStep: 'streaming-analysis',\n        completedSteps: [],\n        message: `Analyzing chunk ${result.chunkIndex + 1} of ${result.totalChunks}...`\n      });\n    }\n\n    // Check memory usage\n    this.checkMemoryUsage();\n\n    // Call progressive results callback\n    if (this.config.enableProgressiveResults && this.progressiveCallback) {\n      this.progressiveCallback(result);\n    }\n\n    // Complete analysis if all chunks processed\n    if (result.isComplete && this.completeCallback) {\n      this.finalizeAnalysis();\n    }\n  }\n\n  private handleWorkerError(error: Error): void {\n    console.error('Streaming worker error:', error);\n    handleAnalysisError(error, 'streaming-analysis');\n    this.isAnalyzing = false;\n  }\n\n  private checkMemoryUsage(): void {\n    // @ts-expect-error - performance.memory might not be available\n    if (typeof performance !== 'undefined' && performance.memory) {\n      // @ts-expect-error - performance.memory is not in TypeScript lib but exists in Chrome\n      const memoryUsage = performance.memory.usedJSHeapSize;\n      \n      if (memoryUsage > this.config.memoryLimit) {\n        handlePerformanceError('memory-usage', memoryUsage, this.config.memoryLimit);\n        \n        // Clear old chunk results to free memory\n        this.clearOldChunkResults();\n      }\n    }\n  }\n\n  private clearOldChunkResults(): void {\n    // Keep only the last 5 chunk results to save memory\n    const sortedKeys = Array.from(this.chunkResults.keys()).sort((a, b) => b - a);\n    const keysToKeep = sortedKeys.slice(0, 5);\n    \n    for (const key of this.chunkResults.keys()) {\n      if (!keysToKeep.includes(key)) {\n        this.chunkResults.delete(key);\n      }\n    }\n  }\n\n  private async finalizeAnalysis(): Promise<void> {\n    const timingId = PerformanceMonitor.startTiming(\n      'streaming.finalization',\n      PerformanceCategory.ANALYSIS\n    );\n\n    try {\n      // Create final aggregated result\n      const finalResult: AudioAnalysisResult = {\n        ...this.aggregatedResult,\n        duration: this.totalDuration,\n        sampleRate: this.sampleRate,\n        channels: this.channels,\n        performance: {\n          totalAnalysisTime: performance.now() - this.analysisStartTime,\n          breakdown: {\n            'streaming-analysis': performance.now() - this.analysisStartTime\n          },\n          memoryUsage: this.getCurrentMemoryUsage()\n        }\n      } as AudioAnalysisResult;\n\n      this.isAnalyzing = false;\n      this.currentAnalysisId = null;\n\n      if (this.completeCallback) {\n        this.completeCallback(finalResult);\n      }\n\n    } catch (error) {\n      handleAnalysisError(error as Error, 'finalization');\n    } finally {\n      PerformanceMonitor.endTiming(timingId);\n    }\n  }\n\n  private getCurrentMemoryUsage(): number {\n    // @ts-expect-error - performance.memory is not in TypeScript lib but exists in Chrome\n    if (typeof performance !== 'undefined' && performance.memory) {\n      // @ts-expect-error - performance.memory is not in TypeScript lib but exists in Chrome\n      return performance.memory.usedJSHeapSize;\n    }\n    return 0;\n  }\n\n  // Public properties for callbacks\n  private progressCallback: ((progress: AnalysisProgress) => void) | null = null;\n  private progressiveCallback: ((result: ProgressiveAnalysisResult) => void) | null = null;\n  private completeCallback: ((result: AudioAnalysisResult) => void) | null = null;\n  private analysisStartTime = 0;\n  private totalDuration = 0;\n  private sampleRate = 44100;\n  private channels = 1;\n\n  public async analyzeFile(\n    file: File,\n    progressCallback?: (progress: AnalysisProgress) => void,\n    progressiveCallback?: (result: ProgressiveAnalysisResult) => void\n  ): Promise<AudioAnalysisResult> {\n    \n    if (this.isAnalyzing) {\n      throw new Error('Analysis already in progress');\n    }\n\n    if (file.size > this.config.maxFileSize) {\n      throw new Error(`File too large for streaming analysis: ${file.size} bytes (max: ${this.config.maxFileSize})`);\n    }\n\n    this.isAnalyzing = true;\n    this.analysisStartTime = performance.now();\n    this.progressCallback = progressCallback ?? null;\n    this.progressiveCallback = progressiveCallback ?? null;\n\n    try {\n      // Decode audio file\n      const audioBuffer = await this.decodeAudioFile(file);\n      this.totalDuration = audioBuffer.duration;\n      this.sampleRate = audioBuffer.sampleRate;\n      this.channels = audioBuffer.numberOfChannels;\n\n      // Create chunks\n      const chunks = this.createAudioChunks(audioBuffer);\n      \n      // Reset worker state\n      this.worker?.postMessage({ type: 'RESET' });\n      this.chunkResults.clear();\n      this.aggregatedResult = {};\n\n      // Analyze chunks\n      return new Promise((resolve, reject) => {\n        this.completeCallback = resolve;\n        \n        // Process chunks sequentially to manage memory\n        this.processChunksSequentially(chunks);\n      });\n\n    } catch (error) {\n      this.isAnalyzing = false;\n      throw error;\n    }\n  }\n\n  private async decodeAudioFile(file: File): Promise<AudioBuffer> {\n    const timingId = PerformanceMonitor.startTiming(\n      'streaming.decode',\n      PerformanceCategory.FILE_OPERATIONS\n    );\n\n    try {\n      const arrayBuffer = await file.arrayBuffer();\n      const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\n      \n      const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n      await audioContext.close();\n      \n      return audioBuffer;\n    } catch (error) {\n      throw new Error(`Failed to decode audio file: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    } finally {\n      PerformanceMonitor.endTiming(timingId);\n    }\n  }\n\n  private createAudioChunks(audioBuffer: AudioBuffer): StreamingChunk[] {\n    const chunks: StreamingChunk[] = [];\n    const audioData = audioBuffer.getChannelData(0); // Use first channel\n    const totalSamples = audioData.length;\n    const effectiveChunkSize = this.config.chunkSize - this.config.overlapSize;\n\n    let chunkIndex = 0;\n    for (let start = 0; start < totalSamples; start += effectiveChunkSize) {\n      const end = Math.min(start + this.config.chunkSize, totalSamples);\n      const chunkData = audioData.slice(start, end);\n      \n      chunks.push({\n        index: chunkIndex,\n        startTime: start / audioBuffer.sampleRate,\n        endTime: end / audioBuffer.sampleRate,\n        audioData: chunkData,\n        sampleRate: audioBuffer.sampleRate,\n        isComplete: end >= totalSamples\n      });\n      \n      chunkIndex++;\n    }\n\n    return chunks;\n  }\n\n  private async processChunksSequentially(chunks: StreamingChunk[]): Promise<void> {\n    for (let i = 0; i < chunks.length; i++) {\n      const chunk = chunks[i];\n      \n      // Check if we should pause for memory management\n      if (i > 0 && i % 5 === 0) {\n        await this.waitForMemoryCleanup();\n      }\n\n      // Send chunk to worker\n      this.worker?.postMessage({\n        type: 'ANALYZE_CHUNK',\n        payload: {\n          chunkData: chunk.audioData,\n          chunkIndex: chunk.index,\n          totalChunks: chunks.length,\n          config: this.config\n        },\n        id: `chunk-${chunk.index}`\n      });\n\n      // Add small delay between chunks to prevent overwhelming\n      await new Promise(resolve => setTimeout(resolve, 10));\n    }\n  }\n\n  private async waitForMemoryCleanup(): Promise<void> {\n    // Force garbage collection if available (Chrome DevTools)\n    if ('gc' in window) {\n      (window as any).gc();\n    }\n    \n    // Wait a bit for cleanup\n    await new Promise(resolve => setTimeout(resolve, 100));\n  }\n\n  public updateConfig(newConfig: Partial<StreamingAnalysisConfig>): void {\n    this.config = { ...this.config, ...newConfig };\n  }\n\n  public getConfig(): StreamingAnalysisConfig {\n    return { ...this.config };\n  }\n\n  public isAnalysisInProgress(): boolean {\n    return this.isAnalyzing;\n  }\n\n  public getCurrentProgress(): {\n    chunksCompleted: number;\n    totalChunks: number;\n    progressPercentage: number;\n  } {\n    const chunksCompleted = this.chunkResults.size;\n    // This would need to be tracked properly in a real implementation\n    const totalChunks = chunksCompleted; // Placeholder\n    \n    return {\n      chunksCompleted,\n      totalChunks,\n      progressPercentage: totalChunks > 0 ? (chunksCompleted / totalChunks) * 100 : 0\n    };\n  }\n\n  public cancelAnalysis(): void {\n    this.isAnalyzing = false;\n    this.currentAnalysisId = null;\n    this.chunkResults.clear();\n    this.aggregatedResult = {};\n    \n    // Reset worker\n    this.worker?.postMessage({ type: 'RESET' });\n  }\n\n  public destroy(): void {\n    this.cancelAnalysis();\n    \n    if (this.worker) {\n      this.worker.terminate();\n      this.worker = null;\n    }\n  }\n}","import { ErrorHandler } from './ErrorHandler';\nimport { PerformanceMonitor } from './PerformanceMonitor';\n\nexport interface HealthCheckResult {\n  component: string;\n  status: 'healthy' | 'warning' | 'error';\n  message: string;\n  details?: Record<string, any>;\n  timestamp: Date;\n}\n\nexport interface SystemHealth {\n  overall: 'healthy' | 'degraded' | 'critical';\n  score: number; // 0-100\n  checks: HealthCheckResult[];\n  recommendations: string[];\n}\n\nclass HealthCheckService {\n  private checks: Map<string, () => Promise<HealthCheckResult>> = new Map();\n  private lastCheck: SystemHealth | null = null;\n  private autoCheckInterval: number | null = null;\n\n  constructor() {\n    this.registerDefaultChecks();\n  }\n\n  private registerDefaultChecks(): void {\n    // Browser compatibility checks\n    this.checks.set('browser-support', async () => {\n      const issues: string[] = [];\n      const details: Record<string, any> = {};\n\n      // Check essential APIs\n      if (!window.AudioContext && !(window as any).webkitAudioContext) {\n        issues.push('Web Audio API not supported');\n      }\n\n      if (!window.Worker) {\n        issues.push('Web Workers not supported');\n      }\n\n      if (!window.OffscreenCanvas) {\n        details.offscreenCanvas = false;\n      }\n\n      if (!('createImageBitmap' in window)) {\n        details.imageBitmap = false;\n      }\n\n      // Check WASM support\n      if (!window.WebAssembly) {\n        issues.push('WebAssembly not supported');\n      }\n\n      return {\n        component: 'browser-support',\n        status: issues.length === 0 ? 'healthy' : 'error',\n        message: issues.length === 0 \n          ? 'Browser fully compatible'\n          : `Compatibility issues: ${issues.join(', ')}`,\n        details,\n        timestamp: new Date()\n      };\n    });\n\n    // Memory check\n    this.checks.set('memory', async () => {\n      // @ts-expect-error - performance.memory is not in TypeScript lib but exists in Chrome\n      const memory = performance.memory;\n      const details: Record<string, any> = {};\n\n      if (memory) {\n        const usedMB = memory.usedJSHeapSize / (1024 * 1024);\n        const limitMB = memory.jsHeapSizeLimit / (1024 * 1024);\n        const usage = usedMB / limitMB;\n\n        details.usedMB = Math.round(usedMB);\n        details.limitMB = Math.round(limitMB);\n        details.usagePercent = Math.round(usage * 100);\n\n        let status: 'healthy' | 'warning' | 'error' = 'healthy';\n        let message = `Memory usage: ${details.usedMB}MB (${details.usagePercent}%)`;\n\n        if (usage > 0.8) {\n          status = 'error';\n          message = `High memory usage: ${details.usagePercent}%`;\n        } else if (usage > 0.6) {\n          status = 'warning';\n          message = `Moderate memory usage: ${details.usagePercent}%`;\n        }\n\n        return {\n          component: 'memory',\n          status,\n          message,\n          details,\n          timestamp: new Date()\n        };\n      }\n\n      return {\n        component: 'memory',\n        status: 'warning',\n        message: 'Memory information not available',\n        details,\n        timestamp: new Date()\n      };\n    });\n\n    // Performance check\n    this.checks.set('performance', async () => {\n      const metrics = PerformanceMonitor.getReport();\n      const details: Record<string, any> = {\n        totalMetrics: metrics.summary.totalMetrics,\n        averageDuration: Math.round(metrics.summary.averageDuration),\n        memoryPeak: Math.round(metrics.memoryUsage.peak / (1024 * 1024))\n      };\n\n      let status: 'healthy' | 'warning' | 'error' = 'healthy';\n      let message = 'Performance metrics normal';\n\n      if (metrics.summary.alerts.length > 0) {\n        const criticalAlerts = metrics.summary.alerts.filter(a => a.severity === 'critical');\n        if (criticalAlerts.length > 0) {\n          status = 'error';\n          message = `${criticalAlerts.length} critical performance issues`;\n        } else {\n          status = 'warning';\n          message = `${metrics.summary.alerts.length} performance warnings`;\n        }\n        details.alerts = metrics.summary.alerts.length;\n      }\n\n      return {\n        component: 'performance',\n        status,\n        message,\n        details,\n        timestamp: new Date()\n      };\n    });\n\n    // Error rate check\n    this.checks.set('error-rate', async () => {\n      const errorStats = ErrorHandler.getErrorStats();\n      const details: Record<string, any> = {\n        totalErrors: errorStats.total,\n        recentErrors: errorStats.recent,\n        criticalErrors: errorStats.bySeverity.critical\n      };\n\n      let status: 'healthy' | 'warning' | 'error' = 'healthy';\n      let message = 'Error rate normal';\n\n      if (errorStats.bySeverity.critical > 0) {\n        status = 'error';\n        message = `${errorStats.bySeverity.critical} critical errors detected`;\n      } else if (errorStats.recent > 5) {\n        status = 'warning';\n        message = `${errorStats.recent} recent errors (last hour)`;\n      } else if (errorStats.total === 0) {\n        message = 'No errors detected';\n      } else {\n        message = `${errorStats.total} total errors (${errorStats.recent} recent)`;\n      }\n\n      return {\n        component: 'error-rate',\n        status,\n        message,\n        details,\n        timestamp: new Date()\n      };\n    });\n\n    // Network connectivity check\n    this.checks.set('network', async () => {\n      const isOnline = navigator.onLine;\n      // @ts-expect-error - navigator.connection is experimental and not in TypeScript lib\n      const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\n      \n      const details: Record<string, any> = {\n        online: isOnline\n      };\n\n      if (connection) {\n        details.effectiveType = connection.effectiveType;\n        details.downlink = connection.downlink;\n        details.rtt = connection.rtt;\n        details.saveData = connection.saveData;\n      }\n\n      let status: 'healthy' | 'warning' | 'error' = 'healthy';\n      let message = 'Network connection stable';\n\n      if (!isOnline) {\n        status = 'error';\n        message = 'No network connection';\n      } else if (connection && connection.effectiveType === 'slow-2g') {\n        status = 'warning';\n        message = 'Slow network connection detected';\n      }\n\n      return {\n        component: 'network',\n        status,\n        message,\n        details,\n        timestamp: new Date()\n      };\n    });\n\n    // Audio system check\n    this.checks.set('audio-system', async () => {\n      const details: Record<string, any> = {};\n\n      try {\n        // Test audio context creation\n        const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\n        details.sampleRate = audioContext.sampleRate;\n        details.state = audioContext.state;\n        details.maxChannelCount = audioContext.destination.maxChannelCount;\n        \n        await audioContext.close();\n\n        return {\n          component: 'audio-system',\n          status: 'healthy' as const,\n          message: `Audio system ready (${details.sampleRate}Hz, ${details.maxChannelCount}ch)`,\n          details,\n          timestamp: new Date()\n        };\n      } catch (error) {\n        return {\n          component: 'audio-system',\n          status: 'error' as const,\n          message: `Audio system unavailable: ${error instanceof Error ? error.message : 'Unknown error'}`,\n          details,\n          timestamp: new Date()\n        };\n      }\n    });\n  }\n\n  public async runHealthCheck(): Promise<SystemHealth> {\n    const results: HealthCheckResult[] = [];\n    \n    // Run all checks in parallel\n    const checkPromises = Array.from(this.checks.entries()).map(async ([name, checkFn]) => {\n      try {\n        return await checkFn();\n      } catch (error) {\n        return {\n          component: name,\n          status: 'error' as const,\n          message: `Health check failed: ${error instanceof Error ? error.message : 'Unknown error'}`,\n          timestamp: new Date()\n        };\n      }\n    });\n\n    const checkResults = await Promise.all(checkPromises);\n    results.push(...checkResults);\n\n    // Calculate overall health\n    const healthyCount = results.filter(r => r.status === 'healthy').length;\n    const warningCount = results.filter(r => r.status === 'warning').length;\n    const errorCount = results.filter(r => r.status === 'error').length;\n\n    const score = Math.round((healthyCount / results.length) * 100);\n    \n    let overall: 'healthy' | 'degraded' | 'critical';\n    if (errorCount > 0) {\n      overall = errorCount > results.length / 2 ? 'critical' : 'degraded';\n    } else if (warningCount > 0) {\n      overall = 'degraded';\n    } else {\n      overall = 'healthy';\n    }\n\n    // Generate recommendations\n    const recommendations = this.generateRecommendations(results);\n\n    this.lastCheck = {\n      overall,\n      score,\n      checks: results,\n      recommendations\n    };\n\n    return this.lastCheck;\n  }\n\n  private generateRecommendations(results: HealthCheckResult[]): string[] {\n    const recommendations: string[] = [];\n\n    results.forEach(result => {\n      if (result.status === 'error' || result.status === 'warning') {\n        switch (result.component) {\n          case 'memory':\n            if (result.details?.usagePercent > 60) {\n              recommendations.push('Close unnecessary browser tabs and applications to free memory');\n            }\n            break;\n          case 'performance':\n            if (result.details?.alerts > 0) {\n              recommendations.push('Check performance alerts for optimization opportunities');\n            }\n            break;\n          case 'error-rate':\n            if (result.details?.criticalErrors > 0) {\n              recommendations.push('Review critical errors and consider refreshing the application');\n            }\n            break;\n          case 'network':\n            if (result.status === 'warning') {\n              recommendations.push('Network performance may affect audio file loading times');\n            }\n            break;\n          case 'browser-support':\n            recommendations.push('Update your browser or try a different browser for better compatibility');\n            break;\n          case 'audio-system':\n            recommendations.push('Check audio permissions and ensure no other applications are using audio');\n            break;\n        }\n      }\n    });\n\n    // General recommendations based on overall health\n    if (this.lastCheck?.overall === 'degraded') {\n      recommendations.push('Consider refreshing the page if performance continues to degrade');\n    } else if (this.lastCheck?.overall === 'critical') {\n      recommendations.push('Multiple system issues detected - restart the browser or try a different device');\n    }\n\n    return Array.from(new Set(recommendations)); // Remove duplicates\n  }\n\n  public getLastHealthCheck(): SystemHealth | null {\n    return this.lastCheck;\n  }\n\n  public startAutoCheck(intervalMs = 30000): void {\n    if (this.autoCheckInterval) {\n      clearInterval(this.autoCheckInterval);\n    }\n\n    this.autoCheckInterval = window.setInterval(() => {\n      this.runHealthCheck().catch(error => {\n        console.error('Auto health check failed:', error);\n      });\n    }, intervalMs);\n  }\n\n  public stopAutoCheck(): void {\n    if (this.autoCheckInterval) {\n      clearInterval(this.autoCheckInterval);\n      this.autoCheckInterval = null;\n    }\n  }\n\n  public registerCustomCheck(name: string, checkFn: () => Promise<HealthCheckResult>): void {\n    this.checks.set(name, checkFn);\n  }\n\n  public removeCheck(name: string): boolean {\n    return this.checks.delete(name);\n  }\n\n  public getHealthStatus(): 'healthy' | 'degraded' | 'critical' | 'unknown' {\n    return this.lastCheck?.overall || 'unknown';\n  }\n\n  public getHealthScore(): number {\n    return this.lastCheck?.score || 0;\n  }\n}\n\nexport const HealthCheck = new HealthCheckService();","import { useState, useEffect, useCallback, useRef } from 'react';\nimport { RealEssentiaAudioEngine } from './engines/RealEssentiaAudioEngine';\nimport { StreamingAnalysisEngine } from './engines/StreamingAnalysisEngine';\nimport { FileUpload } from './components/FileUpload';\nimport { AnalysisResults } from './components/AnalysisResults';\nimport { TransportControls } from './components/TransportControls';\nimport { ExportFunctionality } from './components/ExportFunctionality';\nimport { \n  NotificationProvider, \n  useNotificationHelpers \n} from './components/NotificationSystem';\nimport { \n  ProgressStepper, \n  StatusBadge, \n  CircularProgress,\n  type ProgressStep \n} from './components/ProgressIndicators';\nimport type { \n  EngineStatus, \n  AudioAnalysisResult, \n  AnalysisProgress \n} from './types/audio';\nimport { HealthCheck, type SystemHealth } from './utils/HealthCheck';\nimport { PerformanceMonitor, PerformanceCategory } from './utils/PerformanceMonitor';\nimport { ErrorHandler, handleFileError, handleAnalysisError } from './utils/ErrorHandler';\nimport { \n  AlertCircle, \n  CheckCircle, \n  Activity, \n  Settings, \n  Zap,\n  BarChart3,\n  Shield\n} from 'lucide-react';\n\n// Main App Content Component (inside NotificationProvider)\nfunction ProductionAppContent() {\n  // Core state\n  const [engineStatus, setEngineStatus] = useState<EngineStatus>({ status: 'initializing' });\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [analysisData, setAnalysisData] = useState<AudioAnalysisResult | null>(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysisProgress, setAnalysisProgress] = useState<AnalysisProgress | null>(null);\n  const [analysisSteps, setAnalysisSteps] = useState<ProgressStep[]>([]);\n  const [activeTab, setActiveTab] = useState<'upload' | 'results' | 'export' | 'system'>('upload');\n  \n  // System health and monitoring\n  const [systemHealth, setSystemHealth] = useState<SystemHealth | null>(null);\n  const [showAdvancedFeatures, setShowAdvancedFeatures] = useState(false);\n  const [useStreamingAnalysis, setUseStreamingAnalysis] = useState(false);\n  \n  // Engine references\n  const engineRef = useRef<RealEssentiaAudioEngine | null>(null);\n  const streamingEngineRef = useRef<StreamingAnalysisEngine | null>(null);\n  \n  const notifications = useNotificationHelpers();\n\n  // Initialize engines and health monitoring\n  useEffect(() => {\n    const initializeSystem = async () => {\n      const timingId = PerformanceMonitor.startTiming(\n        'app.initialization',\n        PerformanceCategory.INITIALIZATION\n      );\n\n      try {\n        // Initialize main engine\n        engineRef.current = new RealEssentiaAudioEngine();\n        \n        // Initialize streaming engine\n        streamingEngineRef.current = new StreamingAnalysisEngine({\n          chunkSize: 44100 * 5, // 5 seconds\n          maxFileSize: 200 * 1024 * 1024, // 200MB\n          enableProgressiveResults: true\n        });\n\n        // Run initial health check\n        const health = await HealthCheck.runHealthCheck();\n        setSystemHealth(health);\n\n        // Start auto health monitoring (less frequent to reduce performance impact)\n        HealthCheck.startAutoCheck(300000); // Every 5 minutes\n\n        // Register custom health checks\n        HealthCheck.registerCustomCheck('audio-engine', async () => {\n          const engine = engineRef.current;\n          if (!engine) {\n            return {\n              component: 'audio-engine',\n              status: 'error',\n              message: 'Audio engine not initialized',\n              timestamp: new Date()\n            };\n          }\n\n          const status = engine.getEngineStatus();\n          return {\n            component: 'audio-engine',\n            status: status.status === 'ready' ? 'healthy' : \n                   status.status === 'error' ? 'error' : 'warning',\n            message: status.message || `Engine status: ${status.status}`,\n            details: {\n              status: status.status,\n              modelsLoaded: status.modelsLoaded,\n              totalModels: status.totalModels\n            },\n            timestamp: new Date()\n          };\n        });\n\n        // Set up error monitoring\n        ErrorHandler.onError((error) => {\n          console.warn('Application error detected:', error);\n          // Auto-refresh health check on errors\n          HealthCheck.runHealthCheck().then((health) => {\n            setSystemHealth(health);\n          });\n        });\n\n      } catch (error) {\n        console.error('System initialization failed:', error);\n        notifications.error(\n          'System Initialization Failed',\n          'Failed to initialize audio analysis system. Please refresh the page.',\n          { persistent: true }\n        );\n      } finally {\n        PerformanceMonitor.endTiming(timingId);\n      }\n    };\n\n    initializeSystem();\n\n    return () => {\n      HealthCheck.stopAutoCheck();\n      engineRef.current?.terminate();\n      streamingEngineRef.current?.destroy();\n      PerformanceMonitor.destroy();\n    };\n  }, []);\n\n  // Monitor engine status\n  useEffect(() => {\n    const monitorEngine = () => {\n      if (!engineRef.current) return;\n\n      const status = engineRef.current.getEngineStatus();\n      setEngineStatus(status);\n\n      // Show notification when engine becomes ready\n      if (status.status === 'ready' && engineStatus.status !== 'ready') {\n        notifications.engineReady();\n        // Run health check when engine is ready\n        HealthCheck.runHealthCheck().then((health) => {\n          setSystemHealth(health);\n        });\n      } else if (status.status === 'error' && engineStatus.status !== 'error') {\n        // Only show error notification when transitioning TO error state\n        notifications.engineError(status.message || 'Unknown engine error');\n      }\n    };\n\n    const interval = setInterval(monitorEngine, 1000);\n    monitorEngine(); // Initial check\n\n    return () => clearInterval(interval);\n  }, [engineStatus.status]);\n\n  // Initialize analysis steps\n  const initializeAnalysisSteps = useCallback((): ProgressStep[] => [\n    {\n      id: 'preprocessing',\n      label: 'Preprocessing',\n      description: 'Preparing audio data for analysis',\n      status: 'pending'\n    },\n    {\n      id: 'spectral',\n      label: 'Spectral Analysis',\n      description: 'Extracting frequency domain features',\n      status: 'pending'\n    },\n    {\n      id: 'tempo',\n      label: 'Tempo Detection',\n      description: 'Analyzing rhythm and beat patterns',\n      status: 'pending'\n    },\n    {\n      id: 'key',\n      label: 'Key Detection',\n      description: 'Identifying musical key and scale',\n      status: 'pending'\n    },\n    {\n      id: 'mfcc',\n      label: 'MFCC Extraction',\n      description: 'Computing timbre characteristics',\n      status: 'pending'\n    },\n    {\n      id: 'finalization',\n      label: 'Finalization',\n      description: 'Compiling analysis results',\n      status: 'pending'\n    }\n  ], []);\n\n  // Handle file selection with validation\n  const handleFileSelect = useCallback(async (file: File) => {\n    const timingId = PerformanceMonitor.startTiming(\n      'file.selection',\n      PerformanceCategory.FILE_OPERATIONS\n    );\n\n    try {\n      // Validate file\n      if (file.size > 200 * 1024 * 1024) {\n        throw new Error('File too large (max 200MB)');\n      }\n\n      // Check if streaming analysis is needed\n      const shouldUseStreaming = file.size > 50 * 1024 * 1024; // 50MB threshold\n      setUseStreamingAnalysis(shouldUseStreaming);\n\n      if (shouldUseStreaming) {\n        notifications.info(\n          'Large File Detected',\n          'Using streaming analysis for optimal performance',\n          { duration: 3000 }\n        );\n      }\n\n      setSelectedFile(file);\n      setAnalysisData(null);\n      setActiveTab('upload');\n      notifications.fileUploaded(file.name);\n\n    } catch (error) {\n      handleFileError(error as Error, file.name, file.size);\n    } finally {\n      PerformanceMonitor.endTiming(timingId);\n    }\n  }, [notifications]);\n\n  // Start analysis with appropriate engine\n  const startAnalysis = useCallback(async () => {\n    if (!selectedFile || engineStatus.status !== 'ready' || isAnalyzing) return;\n\n    const engine = useStreamingAnalysis ? streamingEngineRef.current : engineRef.current;\n    if (!engine) {\n      notifications.error('Analysis Engine Not Available', 'Please refresh the page and try again.');\n      return;\n    }\n\n    setIsAnalyzing(true);\n    setAnalysisData(null);\n    setAnalysisProgress(null);\n    const steps = initializeAnalysisSteps();\n    setAnalysisSteps(steps);\n    setActiveTab('results');\n\n    const analysisTimingId = PerformanceMonitor.startTiming(\n      'analysis.complete',\n      PerformanceCategory.ANALYSIS,\n      { \n        fileSize: selectedFile.size, \n        fileName: selectedFile.name,\n        streamingMode: useStreamingAnalysis\n      }\n    );\n\n    try {\n      // Progress callback\n      const progressCallback = (progress: AnalysisProgress) => {\n        setAnalysisProgress(progress);\n        \n        // Update step status based on progress\n        setAnalysisSteps(currentSteps => \n          currentSteps.map(step => {\n            if (progress.currentStep === step.id) {\n              return {\n                ...step,\n                status: 'active',\n                progress: Math.round(progress.progress * 100)\n              };\n            } else if (progress.completedSteps.includes(step.id)) {\n              return { ...step, status: 'completed' };\n            }\n            return step;\n          })\n        );\n      };\n\n      let result: AudioAnalysisResult;\n\n      if (useStreamingAnalysis && streamingEngineRef.current) {\n        // Use streaming analysis for large files\n        result = await streamingEngineRef.current.analyzeFile(\n          selectedFile,\n          progressCallback\n        );\n      } else if (engineRef.current) {\n        // Use standard analysis\n        result = await engineRef.current.analyzeAudio(selectedFile, progressCallback);\n      } else {\n        throw new Error('No analysis engine available');\n      }\n      \n      // Mark all steps as completed\n      setAnalysisSteps(currentSteps =>\n        currentSteps.map(step => ({ ...step, status: 'completed' }))\n      );\n\n      setAnalysisData(result);\n      notifications.analysisComplete(selectedFile.name);\n\n      // Record successful analysis\n      PerformanceMonitor.recordInstantMetric(\n        'analysis.success',\n        1,\n        PerformanceCategory.ANALYSIS,\n        { \n          fileSize: selectedFile.size,\n          duration: result.duration,\n          streamingMode: useStreamingAnalysis\n        }\n      );\n      \n    } catch (error) {\n      console.error('Analysis failed:', error);\n      \n      // Mark current step as error\n      setAnalysisSteps(currentSteps =>\n        currentSteps.map(step => \n          step.status === 'active' \n            ? { ...step, status: 'error' }\n            : step\n        )\n      );\n\n      handleAnalysisError(error as Error, 'complete-analysis', { \n        fileSize: selectedFile.size,\n        streamingMode: useStreamingAnalysis \n      });\n\n      notifications.analysisError(\n        selectedFile.name, \n        error instanceof Error ? error.message : 'Unknown error'\n      );\n    } finally {\n      setIsAnalyzing(false);\n      setAnalysisProgress(null);\n      PerformanceMonitor.endTiming(analysisTimingId);\n    }\n  }, [selectedFile, engineStatus.status, isAnalyzing, useStreamingAnalysis, initializeAnalysisSteps, notifications]);\n\n  // Health status indicator\n  const getHealthStatusColor = (status: string) => {\n    switch (status) {\n      case 'healthy': return 'text-green-400';\n      case 'degraded': return 'text-yellow-400';\n      case 'critical': return 'text-red-400';\n      default: return 'text-gray-400';\n    }\n  };\n\n  const getHealthStatusIcon = (status: string) => {\n    switch (status) {\n      case 'healthy': return <CheckCircle className=\"w-4 h-4\" />;\n      case 'degraded': return <AlertCircle className=\"w-4 h-4\" />;\n      case 'critical': return <AlertCircle className=\"w-4 h-4\" />;\n      default: return <Activity className=\"w-4 h-4\" />;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900\">\n      <div className=\"container mx-auto px-6 py-8\">\n        {/* Header with System Status */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-5xl font-bold mb-4 text-white\">\n            Harmonix Pro Analyzer\n          </h1>\n          <p className=\"text-lg text-white/70 max-w-2xl mx-auto mb-4\">\n            Enterprise-grade music analysis powered by Essentia.js WASM and ML models\n          </p>\n          \n          {/* System Status Bar */}\n          <div className=\"flex justify-center items-center space-x-6 mb-6\">\n            {/* Engine Status */}\n            <div className=\"glassmorphic-card p-3 flex items-center space-x-2\">\n              <StatusBadge \n                status={engineStatus.status === 'ready' ? 'success' : \n                       engineStatus.status === 'error' ? 'error' : 'loading'} \n                text={`Engine ${engineStatus.status}`}\n                size=\"sm\"\n              />\n            </div>\n\n            {/* System Health */}\n            {systemHealth && (\n              <div className=\"glassmorphic-card p-3 flex items-center space-x-2\">\n                <div className={`flex items-center space-x-1 ${getHealthStatusColor(systemHealth.overall)}`}>\n                  {getHealthStatusIcon(systemHealth.overall)}\n                  <span className=\"text-sm font-medium\">\n                    System {systemHealth.overall} ({systemHealth.score}%)\n                  </span>\n                </div>\n              </div>\n            )}\n\n            {/* Performance Indicator */}\n            <div className=\"glassmorphic-card p-3 flex items-center space-x-2\">\n              <BarChart3 className=\"w-4 h-4 text-blue-400\" />\n              <span className=\"text-sm text-white/70\">\n                {PerformanceMonitor.getReport().summary.totalMetrics} metrics\n              </span>\n            </div>\n\n            {/* Advanced Features Toggle */}\n            <button\n              onClick={() => setShowAdvancedFeatures(!showAdvancedFeatures)}\n              className={`glassmorphic-button p-2 transition-colors ${\n                showAdvancedFeatures ? 'text-blue-400' : 'text-white/60'\n              }`}\n              title=\"Toggle advanced features\"\n            >\n              <Settings className=\"w-4 h-4\" />\n            </button>\n          </div>\n\n          {/* Advanced Features Panel */}\n          {showAdvancedFeatures && (\n            <div className=\"glassmorphic-card p-4 max-w-4xl mx-auto mb-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                <div>\n                  <h4 className=\"font-medium text-white mb-2 flex items-center\">\n                    <Zap className=\"w-4 h-4 mr-1\" />\n                    Performance Mode\n                  </h4>\n                  <label className=\"flex items-center space-x-2\">\n                    <input\n                      type=\"checkbox\"\n                      checked={useStreamingAnalysis}\n                      onChange={(e) => setUseStreamingAnalysis(e.target.checked)}\n                      className=\"rounded\"\n                    />\n                    <span className=\"text-white/70\">Force streaming analysis</span>\n                  </label>\n                </div>\n                \n                <div>\n                  <h4 className=\"font-medium text-white mb-2 flex items-center\">\n                    <Shield className=\"w-4 h-4 mr-1\" />\n                    System Health\n                  </h4>\n                  {systemHealth && (\n                    <div className=\"text-white/70\">\n                      <div>Errors: {ErrorHandler.getErrorStats().total}</div>\n                      <div>Memory: {Math.round(systemHealth.checks.find(c => c.component === 'memory')?.details?.usedMB || 0)}MB</div>\n                    </div>\n                  )}\n                </div>\n\n                <div>\n                  <h4 className=\"font-medium text-white mb-2\">Quick Actions</h4>\n                  <div className=\"space-y-1\">\n                    <button\n                      onClick={() => HealthCheck.runHealthCheck().then((health) => {\n                        setSystemHealth(health);\n                      })}\n                      className=\"glassmorphic-button px-3 py-1 text-xs\"\n                    >\n                      Refresh Health\n                    </button>\n                    <button\n                      onClick={() => PerformanceMonitor.clearMetrics()}\n                      className=\"glassmorphic-button px-3 py-1 text-xs\"\n                    >\n                      Clear Metrics\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Tab Navigation */}\n          <div className=\"flex justify-center space-x-2 mb-6\">\n            {[\n              { id: 'upload', label: 'Upload & Controls', disabled: false },\n              { id: 'results', label: 'Analysis Results', disabled: !selectedFile },\n              { id: 'export', label: 'Export', disabled: !analysisData },\n              { id: 'system', label: 'System Status', disabled: false }\n            ].map(tab => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id as any)}\n                disabled={tab.disabled}\n                className={`glassmorphic-button px-6 py-2 transition-all ${\n                  activeTab === tab.id\n                    ? 'bg-blue-500/20 border-blue-400/50 text-blue-300'\n                    : tab.disabled \n                      ? 'opacity-50 cursor-not-allowed'\n                      : 'hover:bg-white/5'\n                }`}\n              >\n                {tab.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Main Content Area */}\n        <div className=\"max-w-6xl mx-auto\">\n          {activeTab === 'upload' && (\n            <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-8\">\n              {/* File Upload */}\n              <div className=\"space-y-6\">\n                <FileUpload\n                  onFileSelect={handleFileSelect}\n                  isProcessing={isAnalyzing}\n                  engineReady={engineStatus.status === 'ready'}\n                />\n                \n                {/* Analysis Mode Indicator */}\n                {selectedFile && (\n                  <div className=\"glassmorphic-card p-4\">\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <span className=\"font-medium text-white\">Analysis Configuration</span>\n                      <StatusBadge \n                        status={useStreamingAnalysis ? 'warning' : 'success'}\n                        text={useStreamingAnalysis ? 'Streaming Mode' : 'Standard Mode'}\n                        size=\"sm\"\n                      />\n                    </div>\n                    <div className=\"text-sm text-white/70\">\n                      {useStreamingAnalysis \n                        ? 'Large file detected - using memory-efficient streaming analysis'\n                        : 'Standard in-memory analysis for optimal performance'\n                      }\n                    </div>\n                  </div>\n                )}\n                \n                {/* Start Analysis Button */}\n                {selectedFile && !isAnalyzing && (\n                  <div className=\"glassmorphic-card p-6\">\n                    <button\n                      onClick={startAnalysis}\n                      disabled={engineStatus.status !== 'ready'}\n                      className={`w-full glassmorphic-button p-4 text-lg font-semibold transition-all ${\n                        engineStatus.status === 'ready'\n                          ? 'bg-green-500/20 border-green-400/50 text-green-300 hover:bg-green-500/30'\n                          : 'opacity-50 cursor-not-allowed'\n                      }`}\n                    >\n                       Start Professional Analysis\n                    </button>\n                  </div>\n                )}\n              </div>\n\n              {/* Transport Controls */}\n              <div>\n                <TransportControls\n                  audioFile={selectedFile}\n                  isAnalyzing={isAnalyzing}\n                  analysisData={analysisData}\n                  enableRealtimeVisualization={true}\n                />\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'results' && (\n            <div className=\"space-y-6\">\n              {/* Analysis Progress */}\n              {isAnalyzing && analysisSteps.length > 0 && (\n                <div className=\"space-y-4\">\n                  <ProgressStepper\n                    steps={analysisSteps}\n                    orientation=\"horizontal\"\n                    showProgress={true}\n                    showTimers={false}\n                  />\n                  \n                  {/* Overall Progress */}\n                  {analysisProgress && (\n                    <div className=\"glassmorphic-card p-6 text-center\">\n                      <CircularProgress \n                        progress={analysisProgress.progress * 100}\n                        size={120}\n                        showPercentage={true}\n                      >\n                        <div className=\"text-center\">\n                          <div className=\"text-2xl font-bold text-white\">\n                            {Math.round(analysisProgress.progress * 100)}%\n                          </div>\n                          <div className=\"text-xs text-white/60 mt-1\">\n                            {analysisProgress.message}\n                          </div>\n                        </div>\n                      </CircularProgress>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Analysis Results */}\n              <AnalysisResults\n                analysisData={analysisData}\n                isAnalyzing={isAnalyzing}\n              />\n            </div>\n          )}\n\n          {activeTab === 'export' && (\n            <ExportFunctionality\n              analysisData={analysisData}\n              audioFile={selectedFile}\n              isAnalyzing={isAnalyzing}\n            />\n          )}\n\n          {activeTab === 'system' && (\n            <div className=\"space-y-6\">\n              {/* System Health Overview */}\n              {systemHealth && (\n                <div className=\"glassmorphic-card p-6\">\n                  <h3 className=\"text-lg font-semibold text-white mb-4\">System Health Status</h3>\n                  \n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                    {systemHealth.checks.map((check, idx) => (\n                      <div key={idx} className=\"bg-white/5 rounded-lg p-4\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <span className=\"font-medium text-white capitalize\">\n                            {check.component.replace('-', ' ')}\n                          </span>\n                          <StatusBadge \n                            status={check.status === 'healthy' ? 'success' : \n                                   check.status === 'error' ? 'error' : 'warning'}\n                            text={check.status}\n                            size=\"sm\"\n                          />\n                        </div>\n                        <p className=\"text-sm text-white/70\">{check.message}</p>\n                        {check.details && Object.keys(check.details).length > 0 && (\n                          <div className=\"mt-2 text-xs text-white/50\">\n                            {Object.entries(check.details).map(([key, value]) => (\n                              <div key={key}>{key}: {String(value)}</div>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n\n                  {/* Recommendations */}\n                  {systemHealth.recommendations.length > 0 && (\n                    <div className=\"mt-6\">\n                      <h4 className=\"font-medium text-white mb-2\">Recommendations</h4>\n                      <ul className=\"space-y-1 text-sm text-white/70\">\n                        {systemHealth.recommendations.map((rec, idx) => (\n                          <li key={idx} className=\"flex items-start space-x-2\">\n                            <span className=\"text-yellow-400 mt-0.5\"></span>\n                            <span>{rec}</span>\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Performance Metrics */}\n              <div className=\"glassmorphic-card p-6\">\n                <h3 className=\"text-lg font-semibold text-white mb-4\">Performance Metrics</h3>\n                {/* This would show detailed performance data */}\n                <div className=\"text-sm text-white/70\">\n                  Performance monitoring active. Check browser console for detailed metrics.\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Main App Component with Providers\nfunction ProductionApp() {\n  return (\n    <NotificationProvider maxNotifications={5}>\n      <ProductionAppContent />\n    </NotificationProvider>\n  );\n}\n\nexport default ProductionApp;","import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport ProductionApp from './App-Production.tsx'\nimport './styles/index.css'\n\n// Global error boundary for development\nif (typeof window !== 'undefined') {\n  window.addEventListener('error', (event) => {\n    console.error('Global error:', event.error);\n  });\n  \n  window.addEventListener('unhandledrejection', (event) => {\n    console.error('Unhandled promise rejection:', event.reason);\n  });\n}\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <ProductionApp />\n  </StrictMode>,\n)"],"names":["m","require$$0","createRoot","hydrateRoot","StreamingAnalysisEngine","config","chunkSize","overlapSize","maxFileSize","analysisFeatures","spectral","tempo","key","mfcc","onset","enableProgressiveResults","memoryLimit","worker","isAnalyzing","currentAnalysisId","chunkResults","Map","aggregatedResult","constructor","this","initializeWorker","workerCode","generateWorkerCode","blob","Blob","type","workerUrl","URL","createObjectURL","Worker","onmessage","handleWorkerMessage","bind","onerror","ev","handleWorkerError","Error","message","revokeObjectURL","error","event","payload","id","data","handleChunkComplete","result","set","chunkIndex","partialResult","progressCallback","progress","totalChunks","stage","percentage","Math","round","currentStep","completedSteps","checkMemoryUsage","progressiveCallback","isComplete","completeCallback","finalizeAnalysis","handleAnalysisError","performance","memory","memoryUsage","usedJSHeapSize","handlePerformanceError","clearOldChunkResults","keysToKeep","Array","from","keys","sort","a","b","slice","includes","delete","timingId","PerformanceMonitor","startTiming","PerformanceCategory","ANALYSIS","finalResult","duration","totalDuration","sampleRate","channels","totalAnalysisTime","now","analysisStartTime","breakdown","getCurrentMemoryUsage","endTiming","analyzeFile","file","size","audioBuffer","decodeAudioFile","numberOfChannels","chunks","createAudioChunks","postMessage","clear","Promise","resolve","reject","processChunksSequentially","FILE_OPERATIONS","arrayBuffer","audioContext","window","AudioContext","webkitAudioContext","decodeAudioData","close","audioData","getChannelData","totalSamples","length","effectiveChunkSize","start","end","min","chunkData","push","index","startTime","endTime","i","chunk","waitForMemoryCleanup","setTimeout","gc","updateConfig","newConfig","getConfig","isAnalysisInProgress","getCurrentProgress","chunksCompleted","progressPercentage","cancelAnalysis","destroy","terminate","HealthCheck","checks","lastCheck","autoCheckInterval","registerDefaultChecks","async","issues","details","OffscreenCanvas","offscreenCanvas","imageBitmap","WebAssembly","component","status","join","timestamp","Date","usedMB","limitMB","jsHeapSizeLimit","usage","usagePercent","metrics","getReport","totalMetrics","summary","averageDuration","memoryPeak","peak","alerts","criticalAlerts","filter","severity","errorStats","ErrorHandler","getErrorStats","totalErrors","total","recentErrors","recent","criticalErrors","bySeverity","critical","isOnline","navigator","onLine","connection","mozConnection","webkitConnection","online","effectiveType","downlink","rtt","saveData","state","maxChannelCount","destination","runHealthCheck","results","checkPromises","entries","map","name","checkFn","checkResults","all","healthyCount","r","warningCount","errorCount","score","overall","recommendations","generateRecommendations","forEach","Set","getLastHealthCheck","startAutoCheck","intervalMs","clearInterval","setInterval","catch","stopAutoCheck","registerCustomCheck","removeCheck","getHealthStatus","getHealthScore","ProductionAppContent","engineStatus","setEngineStatus","useState","selectedFile","setSelectedFile","analysisData","setAnalysisData","setIsAnalyzing","analysisProgress","setAnalysisProgress","analysisSteps","setAnalysisSteps","activeTab","setActiveTab","systemHealth","setSystemHealth","showAdvancedFeatures","setShowAdvancedFeatures","useStreamingAnalysis","setUseStreamingAnalysis","engineRef","useRef","streamingEngineRef","notifications","useNotificationHelpers","useEffect","INITIALIZATION","current","RealEssentiaAudioEngine","health","engine","getEngineStatus","modelsLoaded","totalModels","onError","then","persistent","initializeSystem","monitorEngine","engineReady","engineError","interval","initializeAnalysisSteps","useCallback","label","description","handleFileSelect","shouldUseStreaming","info","fileUploaded","handleFileError","startAnalysis","steps","analysisTimingId","fileSize","fileName","streamingMode","currentSteps","step","analyzeAudio","analysisComplete","recordInstantMetric","analysisError","className","children","jsxs","jsx","StatusBadge","text","getHealthStatusColor","CheckCircle","AlertCircle","Activity","getHealthStatusIcon","BarChart3","onClick","title","Settings","Zap","checked","onChange","e","target","Shield","find","c","clearMetrics","disabled","tab","FileUpload","onFileSelect","isProcessing","TransportControls","audioFile","enableRealtimeVisualization","ProgressStepper","orientation","showProgress","showTimers","CircularProgress","showPercentage","AnalysisResults","ExportFunctionality","check","idx","replace","Object","value","String","rec","ProductionApp","NotificationProvider","maxNotifications","addEventListener","document","getElementById","render","StrictMode"],"mappings":"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","x_google_ignoreList":[0]}